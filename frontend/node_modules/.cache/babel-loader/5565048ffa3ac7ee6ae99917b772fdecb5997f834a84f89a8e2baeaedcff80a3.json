{"ast":null,"code":"import React,{useEffect}from'react';import Header from'../components/Header';import{Box}from'@mui/material';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Dashboard(){useEffect(()=>{// Authenticate with iRacing API when the component mounts\nconst initAuth=async()=>{try{console.log('Starting authentication process...');const response=await fetch('/api/authenticate',{method:'POST',headers:{'Content-Type':'application/json'}});if(!response.ok){throw new Error('Failed to authenticate with iRacing API');}const data=await response.json();console.log('Authenticated with iRacing API:',data);// Set up an interval to refresh the authentication every 15 minutes\nconst refreshInterval=setInterval(async()=>{try{console.log('Refreshing authentication...');await fetch('/api/authenticate',{method:'POST',headers:{'Content-Type':'application/json'}});console.log('Refreshed iRacing API authentication');}catch(error){console.error('Error refreshing iRacing API authentication:',error.message);}},15*60*1000);return()=>clearInterval(refreshInterval);}catch(error){console.error('Error initializing iRacing API authentication:',error.message);}};initAuth();},[]);return/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(Box,{sx:{marginTop:'64px',height:'100vh',display:'flex',justifyContent:'center',alignItems:'center',flexDirection:'column'}})]});}export default Dashboard;","map":{"version":3,"names":["React","useEffect","Header","Box","jsx","_jsx","jsxs","_jsxs","Dashboard","initAuth","console","log","response","fetch","method","headers","ok","Error","data","json","refreshInterval","setInterval","error","message","clearInterval","children","sx","marginTop","height","display","justifyContent","alignItems","flexDirection"],"sources":["/Users/home/evolved/speedtrapbets/iracing-dashboard/frontend/src/pages/Dashboard.js"],"sourcesContent":["import React, { useEffect } from 'react';\nimport Header from '../components/Header';\nimport { Box } from '@mui/material';\n\nfunction Dashboard() {\n  useEffect(() => {\n    // Authenticate with iRacing API when the component mounts\n    const initAuth = async () => {\n      try {\n        console.log('Starting authentication process...');\n        const response = await fetch('/api/authenticate', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n        });\n\n        if (!response.ok) {\n          throw new Error('Failed to authenticate with iRacing API');\n        }\n\n        const data = await response.json();\n        console.log('Authenticated with iRacing API:', data);\n\n        // Set up an interval to refresh the authentication every 15 minutes\n        const refreshInterval = setInterval(async () => {\n          try {\n            console.log('Refreshing authentication...');\n            await fetch('/api/authenticate', {\n              method: 'POST',\n              headers: {\n                'Content-Type': 'application/json',\n              },\n            });\n            console.log('Refreshed iRacing API authentication');\n          } catch (error) {\n            console.error('Error refreshing iRacing API authentication:', error.message);\n          }\n        }, 15 * 60 * 1000);\n\n        return () => clearInterval(refreshInterval);\n      } catch (error) {\n        console.error('Error initializing iRacing API authentication:', error.message);\n      }\n    };\n\n    initAuth();\n  }, []);\n\n  return (\n    <Box>\n      <Header />\n      <Box\n        sx={{\n          marginTop: '64px',\n          height: '100vh',\n          display: 'flex',\n          justifyContent: 'center',\n          alignItems: 'center',\n          flexDirection: 'column',\n        }}\n      >\n        {/* Content goes here */}\n      </Box>\n    </Box>\n  );\n}\n\nexport default Dashboard;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,KAAQ,OAAO,CACxC,MAAO,CAAAC,MAAM,KAAM,sBAAsB,CACzC,OAASC,GAAG,KAAQ,eAAe,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEpC,QAAS,CAAAC,SAASA,CAAA,CAAG,CACnBP,SAAS,CAAC,IAAM,CACd;AACA,KAAM,CAAAQ,QAAQ,CAAG,KAAAA,CAAA,GAAY,CAC3B,GAAI,CACFC,OAAO,CAACC,GAAG,CAAC,oCAAoC,CAAC,CACjD,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,mBAAmB,CAAE,CAChDC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CACF,CAAC,CAAC,CAEF,GAAI,CAACH,QAAQ,CAACI,EAAE,CAAE,CAChB,KAAM,IAAI,CAAAC,KAAK,CAAC,yCAAyC,CAAC,CAC5D,CAEA,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAN,QAAQ,CAACO,IAAI,CAAC,CAAC,CAClCT,OAAO,CAACC,GAAG,CAAC,iCAAiC,CAAEO,IAAI,CAAC,CAEpD;AACA,KAAM,CAAAE,eAAe,CAAGC,WAAW,CAAC,SAAY,CAC9C,GAAI,CACFX,OAAO,CAACC,GAAG,CAAC,8BAA8B,CAAC,CAC3C,KAAM,CAAAE,KAAK,CAAC,mBAAmB,CAAE,CAC/BC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CACF,CAAC,CAAC,CACFL,OAAO,CAACC,GAAG,CAAC,sCAAsC,CAAC,CACrD,CAAE,MAAOW,KAAK,CAAE,CACdZ,OAAO,CAACY,KAAK,CAAC,8CAA8C,CAAEA,KAAK,CAACC,OAAO,CAAC,CAC9E,CACF,CAAC,CAAE,EAAE,CAAG,EAAE,CAAG,IAAI,CAAC,CAElB,MAAO,IAAMC,aAAa,CAACJ,eAAe,CAAC,CAC7C,CAAE,MAAOE,KAAK,CAAE,CACdZ,OAAO,CAACY,KAAK,CAAC,gDAAgD,CAAEA,KAAK,CAACC,OAAO,CAAC,CAChF,CACF,CAAC,CAEDd,QAAQ,CAAC,CAAC,CACZ,CAAC,CAAE,EAAE,CAAC,CAEN,mBACEF,KAAA,CAACJ,GAAG,EAAAsB,QAAA,eACFpB,IAAA,CAACH,MAAM,GAAE,CAAC,cACVG,IAAA,CAACF,GAAG,EACFuB,EAAE,CAAE,CACFC,SAAS,CAAE,MAAM,CACjBC,MAAM,CAAE,OAAO,CACfC,OAAO,CAAE,MAAM,CACfC,cAAc,CAAE,QAAQ,CACxBC,UAAU,CAAE,QAAQ,CACpBC,aAAa,CAAE,QACjB,CAAE,CAGC,CAAC,EACH,CAAC,CAEV,CAEA,cAAe,CAAAxB,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}