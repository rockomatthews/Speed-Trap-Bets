{"ast":null,"code":"// src/components/LogIn.js\nimport React,{useState}from'react';import{supabase}from'../supabaseClient';import{Button,TextField,Box,Typography,Grid,Snackbar,Alert}from'@mui/material';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function LogIn(){const[email,setEmail]=useState('');const[password,setPassword]=useState('');const[showSnackbar,setShowSnackbar]=useState(false);const[snackbarMessage,setSnackbarMessage]=useState('');const navigate=useNavigate();const handleLogin=async()=>{const{error}=await supabase.auth.signInWithPassword({email,password});if(error){console.error('Error logging in:',error.message);setSnackbarMessage('Error logging in: '+error.message);setShowSnackbar(true);}else{console.log('Logged in successfully');navigate('/dashboard');// Redirect to dashboard\n}};const handleGoogleLogin=async()=>{const{error}=await supabase.auth.signInWithOAuth({provider:'google'});if(error){console.error('Error signing in with Google:',error.message);setSnackbarMessage('Error signing in with Google: '+error.message);setShowSnackbar(true);}else{navigate('/dashboard');// Redirect to dashboard on success\n}};return/*#__PURE__*/_jsxs(Box,{sx:{minHeight:'100vh',display:'flex',justifyContent:'center',alignItems:'center',px:2,backgroundColor:'background.default'},children:[/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,maxWidth:\"xs\",children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(Typography,{variant:\"h4\",align:\"center\",gutterBottom:true,children:\"Log In\"})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Email\",variant:\"outlined\",value:email,onChange:e=>setEmail(e.target.value)})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Password\",variant:\"outlined\",type:\"password\",value:password,onChange:e=>setPassword(e.target.value)})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(Button,{fullWidth:true,variant:\"contained\",color:\"primary\",onClick:handleLogin,sx:{py:1.5},children:\"Log In\"})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(Button,{fullWidth:true,variant:\"outlined\",color:\"secondary\",onClick:handleGoogleLogin,sx:{py:1.5},children:\"Sign in with Google\"})})]}),/*#__PURE__*/_jsx(Snackbar,{open:showSnackbar,autoHideDuration:6000,onClose:()=>setShowSnackbar(false),children:/*#__PURE__*/_jsx(Alert,{onClose:()=>setShowSnackbar(false),severity:\"info\",sx:{width:'100%'},children:snackbarMessage})})]});}export default LogIn;","map":{"version":3,"names":["React","useState","supabase","Button","TextField","Box","Typography","Grid","Snackbar","Alert","useNavigate","jsx","_jsx","jsxs","_jsxs","LogIn","email","setEmail","password","setPassword","showSnackbar","setShowSnackbar","snackbarMessage","setSnackbarMessage","navigate","handleLogin","error","auth","signInWithPassword","console","message","log","handleGoogleLogin","signInWithOAuth","provider","sx","minHeight","display","justifyContent","alignItems","px","backgroundColor","children","container","spacing","maxWidth","item","xs","variant","align","gutterBottom","fullWidth","label","value","onChange","e","target","type","color","onClick","py","open","autoHideDuration","onClose","severity","width"],"sources":["/Users/home/evolved/speedtrapbets/iracing-dashboard/frontend/src/components/LogIn.js"],"sourcesContent":["// src/components/LogIn.js\nimport React, { useState } from 'react';\nimport { supabase } from '../supabaseClient';\nimport { Button, TextField, Box, Typography, Grid, Snackbar, Alert } from '@mui/material';\nimport { useNavigate } from 'react-router-dom';\n\nfunction LogIn() {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [showSnackbar, setShowSnackbar] = useState(false);\n  const [snackbarMessage, setSnackbarMessage] = useState('');\n  const navigate = useNavigate();\n\n  const handleLogin = async () => {\n    const { error } = await supabase.auth.signInWithPassword({\n      email,\n      password,\n    });\n    if (error) {\n      console.error('Error logging in:', error.message);\n      setSnackbarMessage('Error logging in: ' + error.message);\n      setShowSnackbar(true);\n    } else {\n      console.log('Logged in successfully');\n      navigate('/dashboard'); // Redirect to dashboard\n    }\n  };\n\n  const handleGoogleLogin = async () => {\n    const { error } = await supabase.auth.signInWithOAuth({\n      provider: 'google',\n    });\n    if (error) {\n      console.error('Error signing in with Google:', error.message);\n      setSnackbarMessage('Error signing in with Google: ' + error.message);\n      setShowSnackbar(true);\n    } else {\n      navigate('/dashboard'); // Redirect to dashboard on success\n    }\n  };\n\n  return (\n    <Box\n      sx={{\n        minHeight: '100vh',\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        px: 2,\n        backgroundColor: 'background.default',\n      }}\n    >\n      <Grid container spacing={2} maxWidth=\"xs\">\n        <Grid item xs={12}>\n          <Typography variant=\"h4\" align=\"center\" gutterBottom>\n            Log In\n          </Typography>\n        </Grid>\n        <Grid item xs={12}>\n          <TextField\n            fullWidth\n            label=\"Email\"\n            variant=\"outlined\"\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n          />\n        </Grid>\n        <Grid item xs={12}>\n          <TextField\n            fullWidth\n            label=\"Password\"\n            variant=\"outlined\"\n            type=\"password\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n          />\n        </Grid>\n        <Grid item xs={12}>\n          <Button\n            fullWidth\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={handleLogin}\n            sx={{ py: 1.5 }}\n          >\n            Log In\n          </Button>\n        </Grid>\n        <Grid item xs={12}>\n          <Button\n            fullWidth\n            variant=\"outlined\"\n            color=\"secondary\"\n            onClick={handleGoogleLogin}\n            sx={{ py: 1.5 }}\n          >\n            Sign in with Google\n          </Button>\n        </Grid>\n      </Grid>\n      <Snackbar\n        open={showSnackbar}\n        autoHideDuration={6000}\n        onClose={() => setShowSnackbar(false)}\n      >\n        <Alert onClose={() => setShowSnackbar(false)} severity=\"info\" sx={{ width: '100%' }}>\n          {snackbarMessage}\n        </Alert>\n      </Snackbar>\n    </Box>\n  );\n}\n\nexport default LogIn;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}